/* ===========================
   サイドバー統一スタイル
   すべてのページで一貫した動作を保証
   =========================== */

/* デスクトップ（992px以上） */
@media (min-width: 992px) {
    .sidebar {
        position: fixed !important;
        left: 0 !important;
        top: 0 !important;
        width: 260px !important;
        height: 100vh !important;
        background: white !important;
        box-shadow: 2px 0 4px rgba(0,0,0,0.1) !important;
        z-index: 100 !important;
        transform: none !important;
        display: flex !important;
        flex-direction: column !important;
        overflow-y: auto !important;
    }
    
    .main-content {
        margin-left: 260px !important;
        width: calc(100% - 260px) !important;
        padding: 0 !important;
        min-height: 100vh !important;
        background: #f8f9fa !important;
    }
    
    /* モバイル要素を非表示 */
    .mobile-header,
    .mobile-nav,
    .mobile-backdrop {
        display: none !important;
    }
}

/* モバイル・タブレット（991px以下） */
@media (max-width: 991px) {
    .sidebar {
        position: fixed !important;
        left: 0 !important;
        top: 0 !important;
        width: 260px !important;
        max-width: 80% !important;
        height: 100vh !important;
        background: white !important;
        box-shadow: 2px 0 4px rgba(0,0,0,0.1) !important;
        transform: translateX(-100%) !important;
        transition: transform 0.3s ease !important;
        z-index: 400 !important;
        display: flex !important;
        flex-direction: column !important;
        overflow-y: auto !important;
    }
    
    /* アクティブ時の表示 */
    .sidebar.active,
    .sidebar.show {
        transform: translateX(0) !important;
    }
    
    .main-content {
        margin-left: 0 !important;
        width: 100% !important;
        padding-top: 60px !important; /* モバイルヘッダーの高さ */
        min-height: calc(100vh - 60px) !important;
        background: #f8f9fa !important;
    }
    
    /* モバイルヘッダー表示 */
    .mobile-header {
        display: flex !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        height: 60px !important;
        background: white !important;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
        z-index: 300 !important;
        align-items: center !important;
        justify-content: space-between !important;
        padding: 0 1rem !important;
    }
    
    /* モバイルバックドロップ */
    .mobile-backdrop {
        display: none !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background: rgba(0, 0, 0, 0.5) !important;
        z-index: 399 !important;
    }
    
    .mobile-backdrop.active {
        display: block !important;
    }
}

/* 小さいモバイルデバイス（479px以下） */
@media (max-width: 479px) {
    .sidebar {
        width: 240px !important;
        max-width: 85% !important;
    }
}