<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>招待 - INTERCONNECT</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/buttons.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/notifications.css">
    <link rel="stylesheet" href="css/invite.css">
    <link rel="stylesheet" href="css/responsive-menu.css">
    <link rel="stylesheet" href="css/user-menu-zindex-only.css">
</head>
<body>
    <!-- Mobile Header -->
    <header class="mobile-header">
        <button class="mobile-menu-toggle" id="inviteSidebarToggle">
            <i class="fas fa-bars"></i>
        </button>
        <h1>INTERCONNECT</h1>
        <div class="mobile-header-actions">
            <a href="notifications.html" class="notification-btn">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">3</span>
            </a>
        </div>
    </header>

    <!-- Mobile Navigation -->
    <nav class="mobile-nav">
        <div class="mobile-nav-header">
            <h1>INTERCONNECT</h1>
            <button class="mobile-nav-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="mobile-nav-menu">
            <ul>
                <li>
                    <a href="dashboard.html" class="mobile-nav-link">
                        <i class="fas fa-home"></i>
                        <span>ダッシュボード</span>
                    </a>
                </li>
                <li>
                    <a href="members.html" class="mobile-nav-link">
                        <i class="fas fa-users"></i>
                        <span>メンバー</span>
                    </a>
                </li>
                <li>
                    <a href="events.html" class="mobile-nav-link">
                        <i class="fas fa-calendar-alt"></i>
                        <span>イベント</span>
                    </a>
                </li>
                <li>
                    <a href="messages.html" class="mobile-nav-link">
                        <i class="fas fa-envelope"></i>
                        <span>メッセージ</span>
                        <span class="badge">3</span>
                    </a>
                </li>
                <li>
                    <a href="matching.html" class="mobile-nav-link">
                        <i class="fas fa-handshake"></i>
                        <span>マッチング</span>
                    </a>
                </li>
                <li>
                    <a href="profile.html" class="mobile-nav-link">
                        <i class="fas fa-user"></i>
                        <span>プロフィール</span>
                    </a>
                </li>
                <li>
                    <a href="settings.html" class="mobile-nav-link">
                        <i class="fas fa-cog"></i>
                        <span>設定</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="mobile-nav-link active">
                        <i class="fas fa-user-plus"></i>
                        <span>招待</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <div class="mobile-nav-footer">
            <a href="#" class="mobile-nav-link" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                <span>ログアウト</span>
            </a>
        </div>
    </nav>
    
    <!-- Mobile Backdrop -->
    <div class="mobile-backdrop"></div>

    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar" id="inviteSidebar">
            <div class="sidebar-header">
                <h1>INTERCONNECT</h1>
                <button class="sidebar-toggle" id="sidebarToggle" aria-label="メニュー">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <a href="dashboard.html" class="sidebar-link">
                            <i class="fas fa-home"></i>
                            <span>ダッシュボード</span>
                        </a>
                    </li>
                    <li>
                        <a href="members.html" class="sidebar-link">
                            <i class="fas fa-users"></i>
                            <span>メンバー</span>
                        </a>
                    </li>
                    <li>
                        <a href="events.html" class="sidebar-link">
                            <i class="fas fa-calendar-alt"></i>
                            <span>イベント</span>
                        </a>
                    </li>
                    <li>
                        <a href="messages.html" class="sidebar-link">
                            <i class="fas fa-envelope"></i>
                            <span>メッセージ</span>
                            <span class="badge">3</span>
                        </a>
                    </li>
                    <li>
                        <a href="matching.html" class="sidebar-link">
                            <i class="fas fa-handshake"></i>
                            <span>マッチング</span>
                        </a>
                    </li>
                    <li>
                        <a href="profile.html" class="sidebar-link">
                            <i class="fas fa-user"></i>
                            <span>プロフィール</span>
                        </a>
                    </li>
                    <li>
                        <a href="settings.html" class="sidebar-link">
                            <i class="fas fa-cog"></i>
                            <span>設定</span>
                        </a>
                    </li>
                    <li class="sidebar-divider"></li>
                    <li>
                        <a href="#" class="sidebar-link active">
                            <i class="fas fa-user-plus"></i>
                            <span>友達を招待</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <a href="#" class="sidebar-link" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>ログアウト</span>
                </a>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="dashboard-header">
                <div class="header-left">
                    <h1>友達を招待</h1>
                    <p>INTERCONNECTに友達を招待しましょう</p>
                </div>
                
                <div class="header-right">
                    <a href="notifications.html" class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </a>
                    
                    <div class="user-menu">
                        <button class="user-menu-btn">
                            <img src="assets/user-placeholder.svg" alt="User">
                            <span class="user-name">ユーザー名</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        
                        <div class="user-dropdown">
                            <a href="profile.html">プロフィール</a>
                            <a href="settings.html">設定</a>
                            <hr>
                            <a href="#" onclick="logout()">ログアウト</a>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Invite Content -->
            <div class="invite-container">
                <!-- Invite Stats -->
                <div class="invite-stats">
                    <div class="invite-stat">
                        <i class="fas fa-paper-plane"></i>
                        <div class="stat-content">
                            <div class="stat-value">15</div>
                            <div class="stat-label">送信済み招待</div>
                        </div>
                    </div>
                    <div class="invite-stat">
                        <i class="fas fa-user-check"></i>
                        <div class="stat-content">
                            <div class="stat-value">8</div>
                            <div class="stat-label">参加済み</div>
                        </div>
                    </div>
                    <div class="invite-stat">
                        <i class="fas fa-gift"></i>
                        <div class="stat-content">
                            <div class="stat-value">800</div>
                            <div class="stat-label">獲得ポイント</div>
                        </div>
                    </div>
                </div>
                
                <!-- Invite Methods -->
                <div class="invite-methods">
                    <h2>招待方法を選択</h2>
                    
                    <div class="invite-method-grid">
                        <div class="invite-method">
                            <i class="fas fa-envelope"></i>
                            <h3>メールで招待</h3>
                            <p>友達のメールアドレスに招待状を送信します</p>
                            <button class="btn btn-primary" onclick="showEmailInvite()">メールで招待</button>
                        </div>
                        
                        <div class="invite-method">
                            <i class="fas fa-link"></i>
                            <h3>リンクを共有</h3>
                            <p>専用の招待リンクをコピーして共有します</p>
                            <button class="btn btn-outline" onclick="copyInviteLink()">リンクをコピー</button>
                        </div>
                        
                        <div class="invite-method">
                            <i class="fab fa-whatsapp"></i>
                            <h3>SNSで共有</h3>
                            <p>各種SNSで招待リンクを共有します</p>
                            <div class="social-share">
                                <button class="btn-icon"><i class="fab fa-facebook"></i></button>
                                <button class="btn-icon"><i class="fab fa-twitter"></i></button>
                                <button class="btn-icon"><i class="fab fa-linkedin"></i></button>
                                <button class="btn-icon"><i class="fab fa-line"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Email Invite Form -->
                <div class="email-invite-form" id="emailInviteForm" style="display: none;">
                    <h2>メールで招待</h2>
                    <form>
                        <div class="form-group">
                            <label>メールアドレス（複数可）</label>
                            <textarea class="form-textarea" rows="4" placeholder="example1@email.com&#10;example2@email.com"></textarea>
                            <small>複数のメールアドレスは改行で区切ってください</small>
                        </div>
                        
                        <div class="form-group">
                            <label>カスタムメッセージ（オプション）</label>
                            <textarea class="form-textarea" rows="3" placeholder="友達に送るメッセージを入力..."></textarea>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-outline" onclick="hideEmailInvite()">キャンセル</button>
                            <button type="submit" class="btn btn-primary">招待を送信</button>
                        </div>
                    </form>
                </div>
                
                <!-- Invite History -->
                <div class="invite-history">
                    <h2>招待履歴</h2>
                    <div class="invite-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>招待した人</th>
                                    <th>送信日</th>
                                    <th>ステータス</th>
                                    <th>獲得ポイント</th>
                                    <th>アクション</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>example@email.com</td>
                                    <td>2024-01-15</td>
                                    <td><span class="status-badge success">参加済み</span></td>
                                    <td>100pt</td>
                                    <td><button class="btn-text">詳細</button></td>
                                </tr>
                                <tr>
                                    <td>test@email.com</td>
                                    <td>2024-01-10</td>
                                    <td><span class="status-badge pending">保留中</span></td>
                                    <td>-</td>
                                    <td><button class="btn-text">再送信</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Scripts -->
    <script src="js/error-prevention.js"></script>
    <script src="js/null-check-fixes.js"></script>
    <script src="js/safe-dom-utils.js"></script>
    <script src="js/safe-storage.js"></script>
    <script src="js/debug-logger.js"></script>
    <script src="js/responsive-menu-simple.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/invite.js"></script>
    <script src="js/notifications.js"></script>
</body>
</html>
